(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-message-more"],{"4a44":function(t,i,a){"use strict";var n=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n(a("1d68")),s={routeTabBarHook:function(){e.default.routeTool(),e.default.setStatusTips()},routeSonHook:function(){e.default.routeTool()}};i.default=s},"57a5":function(t,i,a){"use strict";a.r(i);var n=a("ec98"),e=a("7332");for(var s in e)"default"!==s&&function(t){a.d(i,t,function(){return e[t]})}(s);a("f8b5");var o=a("2877"),l=Object(o["a"])(e["default"],n["a"],n["b"],!1,null,"4b523064",null);i["default"]=l.exports},"72ed":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,".photos[data-v-4b523064]{background-color:#fff}.photo_main[data-v-4b523064]{margin:%?7?% 0 0 %?40?%;display:inline-block;text-align:center}.photo[data-v-4b523064]{width:%?106?%;height:%?106?%;border-radius:%?7?%}.name_class[data-v-4b523064]{font-size:%?20?%;color:#8f8f94;max-width:%?106?%;overflow:hidden;white-space:nowrap}.title[data-v-4b523064]{background:#fff;padding:%?10?% %?30?% 0 %?40?%}.title_val[data-v-4b523064]{display:inline-block}.title_num[data-v-4b523064]{display:inline-block;color:#8f8f94;font-size:%?20?%;float:right}.switch_class[data-v-4b523064]{margin-top:%?20?%}.show_text_[data-v-4b523064]{color:#8f8f94}.show_text[data-v-4b523064]{position:absolute;right:%?60?%;color:#8f8f94;display:inline-block}.photo_qrcode[data-v-4b523064]{width:%?52?%;height:%?52?%;margin-right:%?0?%}",""])},7332:function(t,i,a){"use strict";a.r(i);var n=a("af8a"),e=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(i,t,function(){return n[t]})}(s);i["default"]=e.a},af8a:function(t,i,a){"use strict";var n=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("7f7f");var e=n(a("4a44")),s=n(a("f7af")),o=(n(a("1d68")),{data:function(){return{data:{member:[],group:{is_photo:"default_group_photo/90.jpg"},is_action:0,type:1},list_id:0}},computed:{staticPhoto:function(){return s.default.staticPhoto()},isAction:function(){return this.data.group.main_id==s.default.data("user_info").id}},onShow:function(){e.default.routeSonHook();var t=this;t.$httpSend({path:"/im/message/getChatDetails",data:{list_id:t.list_id},success:function(i){t.data=i,1==i.type&&uni.setNavigationBarTitle({title:i.group.name});var a=s.default.data("cache");1!=i.type||"group_photo_"+t.list_id in a||uni.downloadFile({url:s.default.staticPhoto()+i.group.is_photo,success:function(i){200===i.statusCode&&(a["group_photo_"+t.list_id]=i.tempFilePath,s.default.data("cache",a))}})}})},methods:{removeGroup:function(){var t=this;uni.showModal({title:"重要提示",content:"此操作数据不可恢复,确定要解散该群吗?",confirmText:"不解散",cancelText:"解散",confirmColor:"#353535",cancelColor:"red",success:function(i){i.confirm||t.$httpSend({path:"/im/message/removeGroup",data:{list_id:t.list_id},success:function(t){uni.switchTab({url:"../index"})}})}})},photo:function(t){return this.staticPhoto+t+"?_="+Math.random()},msgChange:function(t){var i=t.detail.value?1:0;this.data.is_action||this.isAction?this.$httpSend({path:"/im/message/groupIsMsg",data:{list_id:this.list_id,value:i},success:function(t){}}):uni.showModal({content:"没有权限设置",showCancel:!1})},msgTop:function(t){var i=this,a=t.detail.value?1:0;this.$httpSend({path:"/im/message/chatTop",data:{list_id:this.list_id,value:a},success:function(t){for(var a=0,n=s.default.localData("chat_list"),e=n.length;a<e;a++)if(n[a].list_id==i.list_id){var o=n[a];n.splice(a,1),n.unshift(o),s.default.localData("chat_list",n),uni.$emit("data_chat_list",n);break}}})},goGroupQrcode:function(){uni.navigateTo({url:"./group_qrcode?list_id="+this.list_id,animationType:"slide-in-bottom"})},goSetGroupPhoto:function(){this.data.is_action||this.isAction?uni.navigateTo({url:"../../set/group_photo?list_id="+this.list_id,animationType:"slide-in-bottom"}):uni.showToast({title:"没有权限设置",icon:"none",duration:1e3})},goSetAdmin:function(t){switch(t){case 1:if(!this.isAction)return void uni.showToast({title:"群主才能设置",icon:"none",duration:1e3});break;case 2:if(!this.data.is_action&&!this.isAction)return void uni.showModal({content:"没有权限设置",showCancel:!1});break;default:return}uni.navigateTo({url:"../../set/group_admin?list_id="+this.list_id+"&type="+t,animationType:"slide-in-bottom"})},goSet:function(t){this.data.is_action||this.isAction?uni.navigateTo({url:"../../set/message_more?list_id="+this.list_id+"&type="+t,animationType:"slide-in-bottom"}):uni.showToast({title:"没有权限设置",icon:"none",duration:1e3})},goDetails:function(t){!this.data.type||this.data.is_action||this.isAction||t==s.default.data("user_info").id?uni.navigateTo({url:"../../details/index?user_id="+t}):uni.showToast({title:"没有权限查看",icon:"none",duration:1e3})},add:function(){uni.navigateTo({url:"../../friend/index_list?list_id="+this.list_id,animationType:"slide-in-bottom"})},reduce:function(){uni.navigateTo({url:"./reduce?list_id="+this.list_id,animationType:"slide-in-bottom"})}},onLoad:function(t){this.list_id=t.list_id,this.data.type=t.type}});i.default=o},dadc:function(t,i,a){var n=a("72ed");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=a("4f06").default;e("7da41b7f",n,!0,{sourceMap:!1,shadowMode:!1})},ec98:function(t,i,a){"use strict";var n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"title_val"},[t._v("会话成员")]),a("v-uni-view",{staticClass:"title_num"},[t._v("共"+t._s(t.data.member.length)+"人 >")])],1),a("v-uni-view",{staticClass:"photos"},[t._l(t.data.member,function(i,n){return a("v-uni-view",{key:n,staticClass:"photo_main",on:{click:function(a){a=t.$handleEvent(a),t.goDetails(i.user_id)}}},[a("v-uni-image",{staticClass:"photo",attrs:{src:t.photo(i.photo+""),"lazy-load":!0}}),a("v-uni-view",{staticClass:"name_class"},[t._v(t._s(i.show_name))])],1)}),a("v-uni-view",{staticClass:"photo_main",on:{click:function(i){i=t.$handleEvent(i),t.add(i)}}},[a("v-uni-image",{staticClass:"photo",attrs:{src:"../../../static/theme/default/chat/add.png","lazy-load":!0}}),a("v-uni-view",{staticClass:"name_class"},[t._v("邀 请")])],1),t.data.is_action?a("v-uni-view",{staticClass:"photo_main",on:{click:function(i){i=t.$handleEvent(i),t.reduce(i)}}},[a("v-uni-image",{staticClass:"photo",attrs:{src:"../../../static/theme/default/chat/reduce.png","lazy-load":!0}}),a("v-uni-view",{staticClass:"name_class"},[t._v("移 除")])],1):t._e()],2),1==t.data.type?a("v-uni-view",{staticClass:"uni-card"},[a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.goSetGroupPhoto(i)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate uni-navigate-right"},[a("v-uni-text",[t._v("群头像")]),a("v-uni-view",{staticClass:"uni-media-list-logo photo"},[a("v-uni-image",{staticStyle:{"border-radius":"10upx"},attrs:{src:t.photo(t.data.group.is_photo+""),"lazy-load":!0}})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.goSet("name")}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",[a("v-uni-text",[t._v("群聊名称")]),a("v-uni-view",{staticClass:"show_text"},[t._v(t._s(t.data.group.name))])],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.goSet("notice")}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",[a("v-uni-text",[t._v("群公告")]),a("v-uni-view",{staticClass:"show_text_"},[t._v(t._s(t.data.group.notice))])],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.goGroupQrcode(i)}}},[a("v-uni-view",{staticClass:"uni-media-list uni-list-cell-navigate uni-navigate-right"},[a("v-uni-text",[t._v("群二维码")]),a("v-uni-view",{staticClass:"uni-media-list-logo photo_qrcode"},[a("v-uni-image",{attrs:{src:"/static/theme/default/my/qrcode.png","lazy-load":!0}})],1)],1)],1)],1),t.data.is_action?a("v-uni-view",{staticClass:"switch_class"},[a("v-uni-view",{staticClass:"uni-list"},[t.isAction?a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.goSetAdmin(1)}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",[a("v-uni-text",[t._v("管理员设置")]),a("v-uni-view",{staticClass:"show_text_"})],1)],1)],1):t._e(),a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.goSetAdmin(2)}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate uni-navigate-right"},[a("v-uni-view",[a("v-uni-text",[t._v("禁言设置")]),a("v-uni-view",{staticClass:"show_text_"})],1)],1)],1),a("v-uni-view",{staticClass:"uni-list-cell uni-list-cell-pd"},[a("v-uni-view",{staticClass:"uni-list-cell-db"},[t._v("全体禁言(除群主和管理员)")]),a("v-uni-switch",{attrs:{color:"#02b300",checked:!!t.data.group.is_msg},on:{change:function(i){i=t.$handleEvent(i),t.msgChange(i)}}})],1)],1),t.isAction?a("v-uni-view",{staticClass:"uni-list-cell",on:{click:function(i){i=t.$handleEvent(i),t.removeGroup(i)}}},[a("v-uni-view",{staticClass:"uni-list-cell-navigate"},[a("v-uni-view",[a("v-uni-text",{staticStyle:{color:"red"}},[t._v("解散该群")]),a("v-uni-view",{staticClass:"show_text_"})],1)],1)],1):t._e()],1):t._e()],1):t._e(),a("v-uni-view",{staticClass:"switch_class"},[a("v-uni-view",{staticClass:"uni-list"},[a("v-uni-view",{staticClass:"uni-list-cell uni-list-cell-pd"},[a("v-uni-view",{staticClass:"uni-list-cell-db"},[t._v("置顶聊天")]),a("v-uni-switch",{attrs:{color:"#02b300",checked:!!t.data.top},on:{change:function(i){i=t.$handleEvent(i),t.msgTop(i)}}})],1),t._e(),t._e()],1)],1)],1)},e=[];a.d(i,"a",function(){return n}),a.d(i,"b",function(){return e})},f8b5:function(t,i,a){"use strict";var n=a("dadc"),e=a.n(n);e.a}}]);